<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-VY52JZTHJG"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-VY52JZTHJG');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Bhagavad Gita - The Song of God</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&family=Noto+Serif+KR:wght@300;400;600&family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Maru+Buri:wght@300;400;600&display=block"
        rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600&amp;family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400&amp;display=block"
        rel="stylesheet" />
    <link
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap"
        rel="stylesheet" />

    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#b08d45",
                        "primary-dark": "#8a6d32",
                        "background-light": "#fdfbf7",
                        "background-paper": "#f4f1ea",
                        "text-main": "#2c281f",
                        "text-muted": "#5c5542",
                        "gold-accent": "#c5a059",
                        "ink": "#1a1814"
                    },
                    fontFamily: {
                        "display": ["Cinzel", "serif"],
                        "serif": ["Cormorant Garamond", "serif"],
                        "kr-serif": ["Maru Buri", "Noto Serif KR", "serif"],
                    },
                    backgroundImage: {
                        'parchment': "linear-gradient(to bottom, rgba(255,255,255,0.95), rgba(255,255,255,0.9)), url('https://www.transparenttextures.com/patterns/cream-paper.png')",
                    },
                    boxShadow: {
                        'gold-glow': '0 0 40px -10px rgba(176, 141, 69, 0.3)',
                        'inset-gold': 'inset 0 0 0 1px rgba(176, 141, 69, 0.2)',
                    }
                },
            },
        }
    </script>
    <style>
        .text-gold-gradient {
            background: linear-gradient(to bottom, #cfb56e 0%, #b08d45 50%, #8f7032 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .border-gold-gradient {
            border-image: linear-gradient(to right, transparent, #b08d45, transparent) 1;
        }

        .ornament-divider {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            margin: 2rem 0;
        }

        .ornament-divider::before,
        .ornament-divider::after {
            content: "";
            flex: 1;
            border-bottom: 1px solid rgba(176, 141, 69, 0.3);
            margin: 0 1rem;
        }

        .ornament-icon {
            color: #b08d45;
            font-size: 1.5rem;
        }
    </style>
    <link rel="icon" type="image/png" href="favicon.png">

    <link rel="stylesheet" href="styles.css">
</head>

<body
    class="text-text-main antialiased min-h-screen flex flex-col items-center selection:bg-primary/20 selection:text-ink bg-parchment font-display overflow-y-auto transition-opacity duration-700 opacity-0"
    style="opacity: 0;">
    <script>
        document.fonts.ready.then(function () {
            // Wait for next frame to ensure rendering is prepped using the correct font
            requestAnimationFrame(function () {
                document.body.style.opacity = '1';
                document.body.classList.remove('opacity-0');
            });
        });
    </script>

    <!-- Password Gate Overlay -->
    <div id="password-gate"
        class="fixed inset-0 z-[100] flex items-center justify-center bg-[#fdfbf7] dark:bg-[#1a1814] transition-opacity duration-700">
        <div class="w-full max-w-md p-8 text-center space-y-8">
            <div class="flex flex-col items-center gap-4">
                <div class="size-16 rounded-full bg-primary/10 flex items-center justify-center text-primary-dark">
                    <span class="material-symbols-outlined text-4xl">lock</span>
                </div>
                <div>
                    <h2 class="text-2xl font-serif text-primary-dark font-bold italic tracking-tight">Access Restricted
                    </h2>
                    <p class="text-[10px] text-text-muted font-display tracking-[0.2em] uppercase mt-1">Light of Yoga
                    </p>
                </div>
            </div>

            <form id="password-form" class="space-y-5" onsubmit="checkPassword(event)">
                <div class="relative group">
                    <input type="password" id="app-password" placeholder="Enter Password"
                        class="w-full bg-white border border-primary/20 rounded-xl px-4 py-4 text-center text-xl tracking-[0.5em] focus:ring-4 focus:ring-primary/10 focus:border-primary/40 outline-none transition-all placeholder:tracking-normal placeholder:text-sm placeholder:text-text-muted/50"
                        autofocus autocomplete="off">
                    <div id="password-error"
                        class="hidden absolute -bottom-6 left-0 right-0 text-[10px] text-red-500 font-bold uppercase tracking-wider">
                        Incorrect password.
                    </div>
                </div>
                <button type="submit"
                    class="w-full bg-primary-dark text-white font-bold py-4 rounded-xl shadow-lg hover:bg-primary transition-all active:scale-[0.98] font-display flex items-center justify-center gap-2 uppercase tracking-widest text-sm">
                    Enter Gateway
                    <span class="material-symbols-outlined text-xl">vaping_rooms</span>
                </button>
            </form>

            <div class="pt-2">
                <p class="text-xs text-text-muted mt-4 font-serif italic opacity-70">
                    문의 : <a href="mailto:roadsea@naver.com"
                        class="text-primary-dark hover:underline">roadsea@naver.com</a>
                </p>
            </div>

            <p class="text-[9px] text-text-muted/40 uppercase tracking-[0.2em] font-display">
                Dedicated to the timeless wisdom of Patanjali
            </p>
        </div>
    </div>
    <script>
        (function () {
            try {
                var p = '0228';
                var l = localStorage.getItem('yoga_gate_auth');
                var c = document.cookie.split('; ').find(function (r) { return r.trim().startsWith('yoga_gate_auth=') });
                var cv = c ? c.split('=')[1] : null;
                if (l === p || cv === p) {
                    var g = document.getElementById('password-gate');
                    if (g) { g.style.display = 'none'; g.classList.add('hidden'); }
                    document.body.classList.remove('overflow-hidden');
                    var ctt = document.getElementById('main-content') || document.getElementById('landing-page');
                    if (ctt) { ctt.classList.remove('invisible'); ctt.classList.add('opacity-100'); }
                }
            } catch (e) { }
        })();
    </script>

    <!-- Wrapping main content -->
    <div id="landing-page" class="w-full h-full flex flex-col items-center justify-center transition-all duration-500">
        <div class="w-full h-1 bg-gradient-to-r from-transparent via-primary/40 to-transparent fixed top-0 z-50"></div>
        <header class="w-full pt-12 pb-6 flex flex-col items-center justify-center relative z-10">
            <div class="flex flex-col items-center gap-4 mb-4 relative z-10">
                <span class="material-symbols-outlined text-4xl text-primary opacity-80">local_library</span>
                <div class="text-center">
                    <h1
                        class="text-3xl md:text-4xl font-display font-medium tracking-[0.15em] text-slate-900 text-[#1a1814] uppercase drop-shadow-md">
                        Bhagavad Gita</h1>
                    <p class="text-sm font-serif italic text-primary-dark tracking-widest mt-1">The Song of God</p>
                </div>
            </div>
            <nav class="flex flex-wrap items-center justify-center gap-3 md:gap-8 mt-4 px-4 w-full">
                <a class="text-text-muted hover:text-primary-dark transition-colors text-base md:text-lg font-medium italic relative group cursor-pointer"
                    onclick="openCompendium()">
                    Compendium
                    <span
                        class="absolute -bottom-1 left-0 w-0 h-px bg-primary transition-all duration-300 group-hover:w-full"></span>
                </a>
                <span class="text-primary/30 text-[10px] md:text-xs">◆</span>
                <a class="text-text-muted hover:text-primary-dark transition-colors text-base md:text-lg font-medium italic relative group cursor-pointer"
                    onclick="openLexicon()">
                    Lexicon
                    <span
                        class="absolute -bottom-1 left-0 w-0 h-px bg-primary transition-all duration-300 group-hover:w-full"></span>
                </a>
                <span class="text-primary/30 text-[10px] md:text-xs">◆</span>
                <a class="text-text-muted hover:text-primary-dark transition-colors text-base md:text-lg font-medium italic relative group cursor-pointer"
                    onclick="openCommentaries()">
                    Commentaries
                    <span
                        class="absolute -bottom-1 left-0 w-0 h-px bg-primary transition-all duration-300 group-hover:w-full"></span>
                </a>
            </nav>
        </header>
        <main class="flex-grow w-full max-w-4xl mx-auto px-6 flex flex-col items-center pt-8 pb-24">
            <div class="ornament-divider max-w-lg mx-auto opacity-60">
                <span class="material-symbols-outlined ornament-icon">spa</span>
            </div>
            <div class="w-full max-w-xl mx-auto mb-16 relative z-10">
                <div class="relative group">
                    <div
                        class="absolute -inset-1 bg-gradient-to-r from-primary/20 via-primary/10 to-primary/20 blur opacity-50 group-hover:opacity-75 transition duration-1000 group-hover:duration-200">
                    </div>
                    <div
                        class="relative flex items-center bg-white border border-primary/30 shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] hover:shadow-gold-glow transition-all duration-300 py-3 px-6 rounded-lg w-full max-w-xl mx-auto">
                        <div class="flex items-center gap-4 w-full justify-between">
                            <div class="flex-1 relative">
                                <label
                                    class="block text-[10px] font-display tracking-widest text-primary/60 mb-0.5 uppercase">Chapter</label>
                                <select id="chapter-select-landing"
                                    class="w-full bg-transparent border-none p-0 focus:ring-0 text-primary-dark font-serif text-lg cursor-pointer font-bold appearance-none outline-none">
                                    <!-- Populated by JS -->
                                </select>
                            </div>
                            <div class="w-px h-8 bg-primary/20"></div>
                            <div class="w-24 relative">
                                <label
                                    class="block text-[10px] font-display tracking-widest text-primary/60 mb-0.5 uppercase">Sutra</label>
                                <select id="sutra-select-landing"
                                    class="w-full bg-transparent border-none p-0 focus:ring-0 text-primary-dark font-serif text-lg cursor-pointer font-bold appearance-none outline-none">
                                    <!-- Populated by JS -->
                                </select>
                                <span
                                    class="material-symbols-outlined absolute right-0 top-1/2 -translate-y-1/2 text-primary/40 pointer-events-none text-sm">arrow_drop_down</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="landing-chapter-grid"
                class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-px bg-gradient-to-b from-transparent via-primary/20 to-transparent w-full max-w-5xl border-t border-b border-primary/20">
                <!-- Populated by JS -->
            </div>
            <div class="mt-16 text-center">
                <p class="text-sm font-serif text-text-muted/60 italic max-w-md mx-auto">
                    "You have a right to perform your prescribed duties, but you are not entitled to the fruits of your
                    actions." — Bhagavad Gita 2.47
                </p>
            </div>
        </main>
        <footer class="w-full border-t border-primary/10 bg-background-paper/30 py-4">
            <div
                class="max-w-6xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-4 text-xs font-display tracking-widest text-primary/60 uppercase">
                <span>Scholarly Archive v2.0</span>
                <div class="flex gap-6">
                    <a class="hover:text-primary-dark transition-colors" href="#">About</a>
                    <a class="hover:text-primary-dark transition-colors" href="#">Sources</a>
                    <a class="hover:text-primary-dark transition-colors" href="#">Contact</a>
                </div>
            </div>
        </footer>
        <div class="fixed top-0 left-0 w-full h-full pointer-events-none overflow-hidden -z-20">
            <div
                class="absolute top-[10%] left-[20%] w-[40%] h-[40%] bg-primary/5 rounded-full blur-[100px] opacity-60">
            </div>
            <div
                class="absolute bottom-[10%] right-[20%] w-[30%] h-[30%] bg-gold-accent/5 rounded-full blur-[80px] opacity-40">
            </div>
        </div>
    </div>
    <!-- Compendium Modal -->
    <div id="compendium-modal" class="fixed inset-0 z-50 hidden opacity-0 transition-opacity duration-500">
        <!-- Backdrop -->
        <div class="absolute inset-0 bg-ink/30 backdrop-blur-sm" onclick="closeCompendium()"></div>

        <!-- Content -->
        <div class="absolute inset-0 flex items-center justify-center p-4">
            <div
                class="bg-[#fcfaf7] w-full max-w-2xl max-h-[80vh] rounded-lg shadow-2xl relative flex flex-col border border-primary/20">
                <!-- Header -->
                <div class="flex items-center justify-between p-6 border-b border-primary/10">
                    <h2 class="text-3xl font-kr-serif text-primary-dark font-bold">Compendium</h2>
                    <button onclick="closeCompendium()"
                        class="text-primary/50 hover:text-primary-dark transition-colors">
                        <span class="material-symbols-outlined text-2xl">close</span>
                    </button>
                </div>

                <!-- Scrollable Content -->
                <div
                    class="overflow-y-auto p-8 space-y-6 text-text-main font-kr-serif leading-relaxed text-lg no-scrollbar break-keep break-words">
                    <p>
                        요가수트라는 흔히 ‘수행의 부록’처럼 오해되기도 하지만, 실제로는 수행의 핵심 원리와 실천 단계가 가장 압축적으로 담긴 <strong
                            class="text-primary-dark font-medium">정수(精髓)</strong>입니다.
                    </p>
                    <p>
                        바가바드기타가 넓은 지형을 보여주는 경전이라면, 요가수트라는 그 길을 실제로 걷게 하는 <strong
                            class="text-primary-dark font-medium">훈련의 지도</strong>에 가깝습니다. 짧은 문장 속에 수행의 요체가 함축되어 있기 때문에,
                        내용이 적어 보인다는 이유로 결코 가볍게 읽을 수 없습니다.
                    </p>
                    <p>
                        또한 요가수트라는 단지 사상이나 철학이 아니라, 인간 의식이 성숙해가는 과정 속에서 전달된 수행의 결정체라는 관점으로도 이해될 수 있습니다. <span
                            class="text-text-muted text-base italic">(이 글에서 제시되는 연대 배치는 일반 문헌의 정설이라기보다 하나의 관점적 설명임을 전제로
                            합니다.)</span>
                    </p>
                    <p>
                        중요한 것은 “정확한 연대”가 아니라, 요가수트라를 <strong class="text-primary-dark font-medium">수행 전통의 흐름 속에서 어떻게 읽을
                            것인가</strong>입니다. 그 관점이 생기면, 요가수트라가 무엇을 계승하고 무엇을 넘어서는지, 그리고 인간 의식의 준비 과정에서 어떤 역할을 하는지 더 입체적으로
                        보이기 시작합니다.
                    </p>

                    <div class="space-y-4 bg-primary/5 p-6 rounded-lg border-l-4 border-primary/30 my-8">
                        <h3 class="font-kr-serif text-primary-dark font-bold text-sm uppercase tracking-widest mb-2">공부의
                            세 가지 원칙</h3>
                        <ul class="space-y-3 text-base">
                            <li class="flex gap-3">
                                <span class="text-primary-dark font-bold shrink-0">1.</span>
                                <span><strong class="font-bold">실습 중심</strong>: 한 줄 한 줄이 ‘실천을 위한 지침’이라는 전제에서
                                    출발합니다.</span>
                            </li>
                            <li class="flex gap-3">
                                <span class="text-primary-dark font-bold shrink-0">2.</span>
                                <span><strong class="font-bold">검증 중심</strong>: 어떤 해석도 맹신하지 않고, 삶과 수행 속에서 확인합니다.</span>
                            </li>
                            <li class="flex gap-3">
                                <span class="text-primary-dark font-bold shrink-0">3.</span>
                                <span><strong class="font-bold">균형의 길</strong>: 몸을 버리거나 현실을 도피하지 않습니다. 물질적 삶을 온전히 사용하면서도
                                    영적 원리를 살아내는 길을 지향합니다.</span>
                            </li>
                        </ul>
                    </div>

                    <p>
                        요가 수행에서 사람은 쉽게 두 극단으로 흐르기 쉽습니다.
                    </p>
                    <ul class="list-disc list-inside space-y-2 text-text-muted pl-2">
                        <li>“현실이 우선이니 수행은 나중에”라는 식으로 영적 기회를 스스로 왜곡하거나,</li>
                        <li>반대로 “깨달음을 위해 몸과 삶을 희생하겠다”는 불균형으로 치닫기도 합니다.</li>
                    </ul>
                    <p>
                        요가수트라는 이 둘을 넘어서는 <strong class="text-primary-dark font-medium">더 높은 선택</strong>—현실을 파괴하지 않으면서도
                        수행의 문을 놓치지 않는 길—을 요구합니다. 그 길에 필요한 것은 강철 같은 의지와 올바른 지식, 그리고 흔들리지 않는 확신입니다.
                    </p>
                    <div class="italic opacity-80 border-l-4 border-primary/30 pl-4 py-1 mt-6">
                        이 사이트는 요가수트라를 읽는 데서 끝내지 않고, 여러분이 실제로 삶에서 연습하고 체험하며 “내 것으로” 만들 수 있도록 안내하는 학습 공간이 되겠습니다.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Lexicon Modal -->
    <div id="lexicon-modal" class="fixed inset-0 z-50 hidden opacity-0 transition-opacity duration-500">
        <!-- Backdrop -->
        <div class="absolute inset-0 bg-ink/30 backdrop-blur-sm" onclick="closeLexicon()"></div>

        <!-- Content -->
        <div class="absolute inset-0 flex items-center justify-center p-4">
            <div
                class="bg-[#fcfaf7] w-full max-w-2xl max-h-[80vh] rounded-lg shadow-2xl relative flex flex-col border border-primary/20">
                <!-- Header -->
                <div class="flex items-center justify-between p-6 border-b border-primary/10">
                    <h2 class="text-3xl font-kr-serif text-primary-dark font-bold">Lexicon</h2>
                    <button onclick="closeLexicon()" class="text-primary/50 hover:text-primary-dark transition-colors">
                        <span class="material-symbols-outlined text-2xl">close</span>
                    </button>
                </div>

                <!-- Scrollable Content -->
                <div id="lexicon-content"
                    class="overflow-y-auto p-8 space-y-4 text-text-main font-serif leading-relaxed text-lg no-scrollbar">
                    <!-- Dynamic Content -->
                </div>
            </div>
        </div>
    </div>

    <!-- Commentaries Modal -->
    <div id="commentaries-modal" class="fixed inset-0 z-50 hidden opacity-0 transition-opacity duration-500">
        <!-- Backdrop -->
        <div class="absolute inset-0 bg-ink/30 backdrop-blur-sm" onclick="closeCommentaries()"></div>

        <!-- Content -->
        <div class="absolute inset-0 flex items-center justify-center p-4">
            <div
                class="bg-[#fcfaf7] w-full max-w-2xl max-h-[80vh] rounded-lg shadow-2xl relative flex flex-col border border-primary/20">
                <!-- Header -->
                <div class="flex items-center justify-between p-6 border-b border-primary/10">
                    <h2 class="text-3xl font-kr-serif text-primary-dark font-bold">My Reflections</h2>
                    <button onclick="closeCommentaries()"
                        class="text-primary/50 hover:text-primary-dark transition-colors">
                        <span class="material-symbols-outlined text-2xl">close</span>
                    </button>
                </div>

                <!-- Scrollable Content -->
                <div id="commentaries-content"
                    class="overflow-y-auto p-8 space-y-4 text-text-main font-serif leading-relaxed text-lg no-scrollbar">
                    <!-- Dynamic Content (User Notes) -->
                </div>
            </div>
        </div>
    </div>

    <script src="data.js" defer></script>
    <script src="script.js" defer></script>
    <script>
        function navigateToChapter(e, url) {
            e.preventDefault();
            const container = document.getElementById('landing-page');
            container.classList.add('opacity-0', 'scale-95');
            setTimeout(() => {
                window.location.href = url;
            }, 500);
        }
    </script>
</body>

</html>